= Zone Buildings =

<wiki:toc max_depth="3" />

== Description ==
There are three types of zones in Simulty which are codependent on each other in the following ways: 
  * Residential
    * Need jobs      (industries, 0.7)
    * Need wares     (commerce, 0.3)
  * Industrial
    * Need workers   (residents, 0.6)
    * Need buyers    (commerce, 0.4)
  * Commercial
    * Need wares     (industries, 0.5)
    * Need customers (residents,  0.5)

An initial zone has barely worth anything, but they will all evolve, depending on various [DesignDocumentConcepts#Thrive_factors thrive factors], such as absence of crime, connections, electricity etc. Besides a good thrive status, a zone needs time to grow.

Zones gain *levels* as their *thrive factors* approve, and as they have more time to grow. Each zone has a styleset for each level, so that not all buildings of the same zone and level will look the same.

As there is no buildings on zones at level 0, nobody lives in a Residential zone on lvl 0, and in the same way, the other two zones are worthless on level 0.

Things needed to grow:
  * Decent [DesignDocumentConcepts#Thrive_factors thrive] values
    * Communication (Roads, etc)
    * Electricity
    * Low living cost
    * Jobs/Wares/People
    * etc
  * Other
    * Time

== Formulas ==

WARNING: These are heavily under constuction.

=== Building, upgrading, demolition ===

==== Building new buildings ====

{{{
  thrive          = (thrive - 70) / 30
  need            = available * factor (need to be close by, depends on transportation?)
  chance (0 .. 1) = thrive * 0.5 + need * 0.5
  size   (1 .. 3) = By *city size* and *thrive* in some way
}}}
  * Thrive value > 70

==== Calculating upgrades of zones ====

  * Destroy old buildings
  * Build new better one
  * Let old now unused buildings become.. unused

=== Population, Level, Taxes ===

==== Calculating the level of zone-buildings ====

Buildings can at present be 3x3 squares. We calculate their average thrive values, and based upon the average thrive, we decide the buildings levels, like this:

{{{ level = ceil(thrive_factor / 30)}}}

All zoned areas with a thrive above a preset minimum value (currently 1) will have a chance to have a building on it.

==== Calculating the number of citizens (jobs, inhabitants, shop capacity) ====

  * All (residental?) houses have a number of inhibitants
  * Size matters
  * Level matters (thrive matters, wealth)

{{{ citizens := sum forall res house: CONSTANT * level * building_size^2 }}}

==== Calculating taxes from zones ====

  * Zones (buildings) pay taxes
  * Residents (Inhabitants, see above), industries and commerce pay taxes
  * Different taxes?
  * Level matters (thrive matters, wealth)


== New ideas ==

  * More realistic population (for each tile) by using logistic functions
  * Transportation network built on stations paths and Dijkstras algoritm